
# Run the container in background and 

$  docker container run -d -P httpd

    'docker container run' : "Create and starts" a new container.
    -d  : Detached mode.
    -P  : Docker checks the image meta data --> Finds all the ports marked with EXPOSE in the image 
             ( httpd exposes port 80 )
          Docker maps each exposed container port to random available port on the host.
  *If you don't add "P" or 'p' => No Port is published to the host. So the container is running, but it’s invisible from your host browser.

Verify the port mapping:
 $ docker container ls        


From host: 
browser -->  http://VM-IP:32768

------------------------------------------------------------------------

# Create a container + Map ports
$ docker container create -p 80:80 httpd
    Only create a container ( does not start it ) 
    -p 80:80  -->  Mapping a host port to a container port
      Left side ==> Host port  :  Right side ==> Container port. 

      This means:
        Apache (httpd) listens on port 80 inside the container
        Docker forwards traffic from host port 80 → container port 80
              Flow =  Client --> HOST:80  -> Container:80 --> httpd

# Verify
$ docker ps -a        # This will show status 'created'.
 or
$ docker container ls -a

# Start the container.
$ docker container start <container-id>
*Container should have a unique name. 

---------------------------------------------------------------------

# Interactive terminal inside the container.
 $ docker container run -it rockylinux:9             
   -i = interactive. 
        Keeps STDIN open ( lets you send input )
        Allows you to type commands into the container.
  - TTY = Allocates a presudo-terminal ( gives you a terminal interface )
       Makes the shell behave like a real terminal
    together -it => Give me an interactive terminal inside the container. 

more examples:
$ docker container run -it ubuntu /bin/bash   # Will default to shell.
  * Some images does not default to 'shell, It's a good practice to use it'.
  * If you don't specific for 'nginx', It won't take you to it's shell unless you specifiiy. ( docker runs whatever CMD is defined in the image )
  * you also need to specify the path for 'httpd'.

# To exit back: Use , This will close the process though.
$ exit    
* IF you do not want to turn off the container, Press : CTRL + P + Q.


# One-off container execution  : You do not need "it" option for this. 

$ docker container run rockylinux:9 cat /etc/os-release
**As soon as cat finishes,Container stops immediately.Status becomes Exited (0)

more examples:
$ docker run alpine uname -a
$ docker container run --name mySiteX centos whoami  
$ docker run ubuntu ls /etc
$ docker run python:3.12 python --version


If you don't want the stopped container to remain: You can also add 'rm'.
$ docker container run --rm rockylinux:9 cat /etc/os-release
 * This auto-cleans the container after execution.


# Debugging a running container: Container is already running. use 'exec'
$ docker container exec -it mysiteX /bin/bash              
 * For the container to remain running : Use options : CTRL + P + Q ( Instead of typing 'exit' ))
 * If you have started a container without 'd' and want to run in the background : Use CTRL + P + Q
              